webpackJsonp([1],{418:function(e,a,o){"use strict";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments[1],o=N[a.type];return o?o(e,a):e}Object.defineProperty(a,"__esModule",{value:!0}),o.d(a,"CREATE_ROOM",function(){return l}),o.d(a,"GET_COURSES",function(){return i}),o.d(a,"GET_CLASSROOMS",function(){return m}),o.d(a,"getCourses",function(){return d}),o.d(a,"getClassrooms",function(){return p}),o.d(a,"createRoom",function(){return C}),o.d(a,"actions",function(){return v}),a.default=s;var t,r=o(115),n=o.n(r),c=o(61),u=o.n(c),l="CREATE_ROOM",i="GET_COURSES",m="GET_CLASSROOMS",d=function(){var e=u.a.post("/classrooms/courses");return{type:i,payload:e}},p=function(e){console.log("GET CLASSROOMS");var a=u.a.post("/classrooms ",{courseID:e});return{type:m,payload:a}},f=function(e,a){var o=u.a.post("/createroom ",{courseID:e,classname:a});return{type:l,payload:o}},C=function(e,a,o){return function(s){s(f(e,a)).then(function(a){console.log("THUNK RESPONSE => ",a),200===a.payload.status&&s(d(e)).then(function(){null!==o&&s(p(o))})})}},v={createRoom:C,getCourses:d,getClassrooms:p},N=(t={},n()(t,l,function(e,a){return Object.assign({},e)}),n()(t,i,function(e,a){return Object.assign({},e,{courses:a.payload.data})}),n()(t,m,function(e,a){if(console.log("GET_CLASRROMS REDUCER",a),e.classrooms[a.payload.data.courseID]){var o=[];return a.payload.data.map(function(e){o.push({roomID:e.roomID,classname:e.classname})}),console.log("222222",Object.assign({},e,{classrooms:Object.assign({},e.classrooms,n()({},a.payload.data[0].courseID,o))})),Object.assign({},e,{classrooms:Object.assign({},e.classrooms,n()({},a.payload.data[0].courseID,e.classrooms[a.payload.data.courseID].push(a.payload.data.roomID)))})}var s=[];return a.payload.data.map(function(e){s.push({roomID:e.roomID,classname:e.classname})}),console.log("11111",Object.assign({},e,{classrooms:Object.assign({},e.classrooms,n()({},a.payload.data[0].courseID,s))})),Object.assign({},e,{classrooms:Object.assign({},e.classrooms,n()({},a.payload.data[0].courseID,s))})}),t),E={courses:[],classrooms:{}}},420:function(e,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=o(48),t=o(418),r=o(425),n={createRoom:function(e,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return o.i(t.createRoom)(e,a,s)},getCourses:function(){return o.i(t.getCourses)()},getClassrooms:function(e){return o.i(t.getClassrooms)(e)}},c=function(e){return{courses:e.instructor.courses,classrooms:e.instructor.classrooms}};a.default=o.i(s.connect)(c,n)(r.a)},422:function(e,a){},424:function(e,a,o){"use strict";var s=o(111),t=o.n(s),r=o(112),n=o.n(r),c=o(114),u=o.n(c),l=o(113),i=o.n(l),m=o(5),d=o.n(m),p=o(422),f=(o.n(p),o(20)),C=function(e){function a(e){t()(this,a);var o=u()(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return o.createRoom=function(){var e=document.getElementById("coursename").value,a=document.getElementById("roomname").value;""!==e&&""!==a&&o.props.createRoom(e,a,o.props.courseName)},o.state={expanded:!1,createNew:!1},o}return i()(a,e),n()(a,[{key:"componentDidMount",value:function(){this.props.getClassrooms(this.props.courseName)}},{key:"render",value:function(){var e=this;return console.log("classrooms",this.props.classrooms),d.a.createElement("div",{className:"course",onClick:function(){e.setState(e.state.createNew?{}:{expanded:!e.state.expanded})}},d.a.createElement("div",{className:"courseTitle"},this.props.courseName),!0===this.state.expanded?d.a.createElement("div",{className:"classlist"},this.props.classrooms?this.props.classrooms.map(function(e){return d.a.createElement("div",{className:"class",onClick:function(a){a.stopPropagation(),f.browserHistory.push("/room/"+e.roomID)}},e.classname?e.classname:e.roomID)}):null,this.state.createNew?d.a.createElement("div",{className:"createCourse"},d.a.createElement("div",{className:"courseName"},"Course Name",d.a.createElement("input",{id:"coursename",defaultValue:this.props.courseName,placeholder:"Course Name",onFocus:function(e){e.stopPropagation()}})),d.a.createElement("div",{className:"className"},"Room Name",d.a.createElement("input",{id:"roomname",placeholder:"Room Name",onFocus:function(a){a.stopPropagation(),e.createRoom()}})),d.a.createElement("div",{className:"addCourse",onClick:function(a){e.createRoom(),e.setState({createNew:!1})}},"Create Room"),d.a.createElement("div",{className:"addCourse",onClick:function(a){e.setState({createNew:!1})}},"Cancel")):d.a.createElement("div",{className:"createNew",onClick:function(a){a.stopPropagation(),e.setState({createNew:!0})}},"New Class")):null)}}]),a}(m.Component);a.a=C},425:function(e,a,o){"use strict";var s=o(111),t=o.n(s),r=o(112),n=o.n(r),c=o(114),u=o.n(c),l=o(113),i=o.n(l),m=o(5),d=o.n(m),p=o(422),f=(o.n(p),o(20),o(424)),C=function(e){function a(e){t()(this,a);var o=u()(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return o.createRoom=function(){var e=document.getElementById("classname").value,a=document.getElementById("coursename").value;o.props.createRoom(a,e)},o.state={createCourse:!1},o}return i()(a,e),n()(a,[{key:"componentDidMount",value:function(){this.props.getCourses()}},{key:"render",value:function(){var e=this;return console.log("instructo render",this.props.courses),d.a.createElement("div",{className:"instructor"},d.a.createElement("div",{className:"jinjoTitle"},"JinJo"),!0===this.state.createCourse?d.a.createElement("div",{className:"createCourse"},d.a.createElement("div",{className:"courseName"},"Course Name",d.a.createElement("input",{id:"coursename",placeholder:"Course Name"})),d.a.createElement("div",{className:"className"},"Class Name",d.a.createElement("input",{id:"classname",placeholder:"Class Name"})),d.a.createElement("div",{className:"addCourse",onClick:function(){e.createRoom()}},"Add Course"),d.a.createElement("div",{className:"addCourse",onClick:function(){e.setState({createCourse:!1})}},"Cancel")):d.a.createElement("div",{className:"createCourse",onClick:function(){e.setState({createCourse:!0})}},"Create Course"),d.a.createElement("div",{className:"courses"},d.a.createElement("div",{className:"coursesTitle"},"Courses"),this.props.courses.map(function(a){return d.a.createElement(f.a,{key:a,getClassrooms:function(a){e.props.getClassrooms(a)},createRoom:e.props.createRoom,courseName:a,classrooms:e.props.classrooms[a]})})))}}]),a}(m.Component);a.a=C}});
//# sourceMappingURL=1.25efe9a6189be9662504.js.map